# coding: utf-8
# Copyright (c) 2016 Fabian Barkhau <fabian.barkhau@gmail.com>
# License: MIT (see LICENSE file)


import unittest
import picopayments


ASSET = "A14456548018133352000"
API_URL = "http://127.0.0.1:14000/api/"
TESTNET = True
DRYRUN = True


PAYER_CLOSED_ALPHA = {"commits_requested": [],
                      "change_rawtx": None,
                      "commits_active": [{"revoke_secret": None,
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd44010047304402203facef856f08a8ffbd25bf2bddfbcd14c19f0731c75990ac2378830d9ca3eefb02206fe84704f4c94a0eba2762f75148a2d528d01a118145e3b3266665c3f00c453f01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a914a18982a84d47975665f5d92881034fcfaa3f778b8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344477c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a91408784a7e29ea596505a3162ecbe8c8cf0bb14689882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"},
                                         {"revoke_secret": None,
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd440100473044022033f86589a7bdd4c203f4893dc64c9b5ac996c92f0f8efa1588665483667808b5022052edc1219b8557ec5c47e2daf4d60f10c0fdc4342feaea3038772c147f12ecf101483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a91424807c6bd9ca06b9e98b3583a8b69ed144708cab8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344447c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a914fbe12303b34170e6bfeaef562974579f8201fd1c882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"},
                                         {"revoke_secret": None,
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd440100473044022042d9338e7b033c3c622f804f444ae090de30fcb6e352ed7069d35a39a8b8291c02200cec6b89eca48e4f7cd893bdc47bd7d9586fe3ccd0230c6961381008af0f6c1e01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a91460eb36ae982fa065ab0fe24c68c572d81b6f2d0c8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344457c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a914427e40d68bb7e22d10a2639c94ae0bd600928d3a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"}],
                      "commits_revoked": [{"revoke_secret": "213c578326ce0bd77d58ba1ba67fb2180f7b94b343c0e98021d69c8daa33abb3",
                                           "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd450100483045022100b64c4523ec6253255b1f03889e96629282789edca811dcbd1a30b60625339af802207d79ea4e31ef0f171d38eae000621b765cfa34563cc864d88bc21b553548660501483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a914643006fc771bb0d8d10c2f9c06eff94c4cec6c9c8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344427c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                           "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a9140586ba4bc9d0598269c7f0dc73e83b80b1e70409882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"}],
                      "timeout_rawtx": None,
                      "spend_secret": None,
                      "deposit_script_hex": "63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868",
                      "deposit_rawtx": "0100000001195effad564aa55ab67ff38202700af4cafb6e84bd7f186fa41c39e8676434cc000000006a473044022038dd7fb8df314d760257b862476a2353689bccea79d01b59f6945a123d0a8a1a022000d8046d1d9184381f468a2433be7c562b44e2e4edba6f95db0098d1162e52e2012102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cffffffff03d2b400000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000000000001e6a1c3633708db8dc04ebfaab9bf59eb4a6eae842c9de552429052d1436315e310200000000001976a91479430e73dc452abcab5aabacd3de97f47c494ba888ac00000000",
                      "payer_wif": "cSEAvYo5yDPzuBCZcttaxBpH4UpxYCPtaZSy8iRXxDG4J9snisJZ",
                      "payee_wif": None}

PAYEE_CLOSED_ALPHA = {"commits_requested": [],
                      "change_rawtx": None,
                      "commits_active": [{"revoke_secret": "710705f2762e2dba5ccdf17daa416b2262db836aa1b156ed5abf23f6bea70c0b",
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd44010047304402203facef856f08a8ffbd25bf2bddfbcd14c19f0731c75990ac2378830d9ca3eefb02206fe84704f4c94a0eba2762f75148a2d528d01a118145e3b3266665c3f00c453f01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a914a18982a84d47975665f5d92881034fcfaa3f778b8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344477c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a91408784a7e29ea596505a3162ecbe8c8cf0bb14689882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"},
                                         {"revoke_secret": "631bb93dbe838fd4752847ac8d7fcf443aa5e10c49aa9306494fb6fe6a2f7350",
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd440100473044022033f86589a7bdd4c203f4893dc64c9b5ac996c92f0f8efa1588665483667808b5022052edc1219b8557ec5c47e2daf4d60f10c0fdc4342feaea3038772c147f12ecf101483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a91424807c6bd9ca06b9e98b3583a8b69ed144708cab8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344447c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a914fbe12303b34170e6bfeaef562974579f8201fd1c882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"},
                                         {"revoke_secret": "49da6c1be84c60fbb628b06f7c7890e810f03f3ba939734415e6a89ad2c1bb32",
                                          "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd440100473044022042d9338e7b033c3c622f804f444ae090de30fcb6e352ed7069d35a39a8b8291c02200cec6b89eca48e4f7cd893bdc47bd7d9586fe3ccd0230c6961381008af0f6c1e014830450221009ad7300c6f314a3a7997b1a04a512846e2bea992bea116d43ab62ab7b9023822022002d1a059be4a42c1af8b76016013f08738e10a86c850ac0e2a62a91cb0c375f401514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a91460eb36ae982fa065ab0fe24c68c572d81b6f2d0c8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344457c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                          "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a914427e40d68bb7e22d10a2639c94ae0bd600928d3a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"}],
                      "commits_revoked": [{"revoke_secret": "213c578326ce0bd77d58ba1ba67fb2180f7b94b343c0e98021d69c8daa33abb3",
                                           "rawtx": "0100000001b4000be28413ca2ddf37e30dfa3bd017e0d440919b94c837bb2bfb740e4ad68300000000fd450100483045022100b64c4523ec6253255b1f03889e96629282789edca811dcbd1a30b60625339af802207d79ea4e31ef0f171d38eae000621b765cfa34563cc864d88bc21b553548660501483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868ffffffff03463c00000000000017a914643006fc771bb0d8d10c2f9c06eff94c4cec6c9c8700000000000000001e6a1c3d4dbfde3d65108b7fb09e5f56ddc65b72ecba0e29d5e308dc2344427c5100000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000",
                                           "script": "6355b275a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b5ac67a9140586ba4bc9d0598269c7f0dc73e83b80b1e70409882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac68"}],
                      "timeout_rawtx": None,
                      "spend_secret": "cb9b7a68ff9d3a8b65885eb57dcb57d84dd3791d2646206ee3ff580449434045",
                      "deposit_script_hex": "63522102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0c2103c024e5c77f38917ff3bc3007e275685e1a07970b634c406ad8cd7119049fe6b552ae6763a914f4a3dd7d783135b6b4454930bf87d4e12bbef71a882102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6702f003b2752102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cac6868",
                      "deposit_rawtx": "0100000001195effad564aa55ab67ff38202700af4cafb6e84bd7f186fa41c39e8676434cc000000006a473044022038dd7fb8df314d760257b862476a2353689bccea79d01b59f6945a123d0a8a1a022000d8046d1d9184381f468a2433be7c562b44e2e4edba6f95db0098d1162e52e2012102c837a95e3935d750b228ee26d4b36a3806cd5e421f075d61aa4850a85e095a0cffffffff03d2b400000000000017a914c7334fefea2d2a7c592e07c47a7363f10da4c0f28700000000000000001e6a1c3633708db8dc04ebfaab9bf59eb4a6eae842c9de552429052d1436315e310200000000001976a91479430e73dc452abcab5aabacd3de97f47c494ba888ac00000000",
                      "payer_wif": None,
                      "payee_wif": "cNjNTW74gPNat6Svc7hdpxr3P1zSMNhC2vAhCLk5546dW2w3hZFc"}

PAYER_STATE_BETA = {
    "timeout_rawtx": None,
    "commits_revoked": [
        {"revoke_secret": "5346a8ad74d43262935b74f152799310544aa56130940f3a50968c5a97e9c738",
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91400e4a7b4e542fc63e9d9758c6c11c8d5f1d79c68882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100ca5974011528039c9d9e092819e94c5583b8f252ff0cd14aacbb7b1bc98449150220679293cc579db9f2b19930a95c77fb1af6cdcdf24890937d67bbc6e06cbce9f501483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91416d101c7db9c49b877fa97bce3ce58ed16c630008700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8017c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": "7defc767592795f124c702505365b50204cf668130ffb51c26f8c461425caa43",
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914a9a8adae908cbd0a5acb997c0bad3dc70faee1da882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100dedf10f849d66bfb2d4a32fd3c5db8f00e57f652fa12c999dadc6052544c5f0b02200d9ac6bd03d452c2335e716c7d67f379ac81a9ba6c7e983db76f4d93b57a19a801483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a9144c856b117e2c75f7aad615ae4e0a84a8c403ee428700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8007c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": "3d093760d2b3fed46208bcb354dd9c6cda9ea2e742d55206a52e089d17667769",
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9144b8d888b64ca2e91c35b7fb8ad798fd01336f4cf882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100dbb934fb578e59231a2bdaac1dca98ec57213644c1965265844e850be76cd82a02201d347af12fec5092ecfcc506d8ca90bf62e8bd99286463cb24ae9cc1879790bb01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914b85fe282199eb01d84031406556f2b16e28a1a3f8700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80f7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": "cc029024a6c59ac8ff072c9f4aaf967c56e9f5f48f64d3c08c4b6b498e653063",
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91442dd18751b3ea6fbef74c766a89898ca7f82e444882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd44010047304402204ef2542c6415c9ad2ed4ab1ec68545cb0582395cb0da9f7db01b323e558271bb02201707c77ccdb449b0d15878eafabe69cab8d8ff77e0e1fdc79d4f4f512f9ba4db01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914c673d88b7dd861eb84dd79020a238ccc3fb3cf4c8700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80e7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": "bc1a47d3e4a9c4c749b44f5af43ee7d1586250ace952e2118e5e0b1f15227e1d",
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914e274421fa76f4778bbfc2b8c86b63f3bb94c3ed7882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd440100473044022041df58506cef3625db51ac48a643ce2a772f542da3e20c5c899d1aab154693dd02203ec14738877b0e0ec20e69f52addb51118b1f3ee42749ae2b6fe87811ae225ad01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914f2dd17f51b7d7e75f7f0995a71f9d7820f099fe68700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80d7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"}
    ],
    "commits_active": [
        {"revoke_secret": None,
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9142ae19b6157f83c02aaba48de7f3afdff861af040882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100d2ea7f5564e756668b50882ac91deba628b55f31f414f4b1fd8d0b229e062b300220021519c6f53ea0baa8c7f71d77cc575ddf3a473264c75debf294e5fd02aeb66101483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914e0309624fe43ff9ee52681a796a5d8bc2d565fa48700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8097c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": None,
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91461e67c3c0b0d87c3375009cae83d873a3728c904882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100c653f65210d40817d5bd8f9171a5a5888bedf55eef8799380d636ec4b096f18202207617041e12de5a0d1cb24f8d8479b08ed8237254cb957e4c279548865f7041a401483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91436e1c5ee04d24c9aa779d6e4c48ddd7db38591638700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80a7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": None,
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9148f9b683eb32dc86d4f53e3884bfd49d0ec83b979882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd4401004730440220415c9495ad7e819d7db9e57bc7e1061204991e3ae8daa3a1c22c22c20e74314102201860059a6073988990fe72ee68f079320ddb4671783b07e9cf52f8267ea162dc01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91446a05c63dbe03aee0682586fe727e16f3acf22598700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80b7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
        {"revoke_secret": None,
         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914f7dc060ff00dfed0975bb0b3815c34898203bacb882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd4501004830450221008ba621ecd7e7dfbfffd3fbae144cb9e74e098183eeddd103c0f11a0072d3a3de022047d2faaeeabaae574356b95a4abba9f2766c9cc73d1ab517c5b3389d1c9a204901483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914fe2f8cd949a3cb4fe7f333e277b0d3c53e9009c48700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80c7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"}
    ],
    "payer_wif": "cW3L2Pr7oDxQzL9zXdKqwXwvpoEbvTD5LZqcXMJGQNx3sA8kLUTf",
    "spend_secret": None,
    "deposit_script_hex": "63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868",
    "payee_wif": None,
    "deposit_rawtx": "0100000001b9ad1017349853f8dc7a5ba7f94904c8c05e390af301dcfec289932422560398000000006b483045022100ccd8a9f0ed50bc13eefc37410ed09759f953beb879d3a5931d62430c3af209fb02205bef6ad1c5171bcc419fb2a36f3f36cac5031787fdde3749e3e743c20c8b30f8012102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ffffffff03d2b400000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000000000001e6a1ced16c8e93108ad3875482af30cbcba626e2242842f44b08b76c636d95e310200000000001976a914512ad68b8e735a67912c10587d83727aa59466f488ac00000000",
    "change_rawtx": None,
    "commits_requested": []
}

PAYEE_STATE_BETA = {"timeout_rawtx": None,
                    "commits_revoked": [{"revoke_secret": "5346a8ad74d43262935b74f152799310544aa56130940f3a50968c5a97e9c738",
                                         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91400e4a7b4e542fc63e9d9758c6c11c8d5f1d79c68882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100ca5974011528039c9d9e092819e94c5583b8f252ff0cd14aacbb7b1bc98449150220679293cc579db9f2b19930a95c77fb1af6cdcdf24890937d67bbc6e06cbce9f501483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91416d101c7db9c49b877fa97bce3ce58ed16c630008700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8017c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                        {"revoke_secret": "7defc767592795f124c702505365b50204cf668130ffb51c26f8c461425caa43",
                                         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914a9a8adae908cbd0a5acb997c0bad3dc70faee1da882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100dedf10f849d66bfb2d4a32fd3c5db8f00e57f652fa12c999dadc6052544c5f0b02200d9ac6bd03d452c2335e716c7d67f379ac81a9ba6c7e983db76f4d93b57a19a801483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a9144c856b117e2c75f7aad615ae4e0a84a8c403ee428700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8007c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                        {"revoke_secret": "3d093760d2b3fed46208bcb354dd9c6cda9ea2e742d55206a52e089d17667769",
                                         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9144b8d888b64ca2e91c35b7fb8ad798fd01336f4cf882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100dbb934fb578e59231a2bdaac1dca98ec57213644c1965265844e850be76cd82a02201d347af12fec5092ecfcc506d8ca90bf62e8bd99286463cb24ae9cc1879790bb01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914b85fe282199eb01d84031406556f2b16e28a1a3f8700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80f7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                        {"revoke_secret": "cc029024a6c59ac8ff072c9f4aaf967c56e9f5f48f64d3c08c4b6b498e653063",
                                         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91442dd18751b3ea6fbef74c766a89898ca7f82e444882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd44010047304402204ef2542c6415c9ad2ed4ab1ec68545cb0582395cb0da9f7db01b323e558271bb02201707c77ccdb449b0d15878eafabe69cab8d8ff77e0e1fdc79d4f4f512f9ba4db01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914c673d88b7dd861eb84dd79020a238ccc3fb3cf4c8700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80e7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                        {"revoke_secret": "bc1a47d3e4a9c4c749b44f5af43ee7d1586250ace952e2118e5e0b1f15227e1d",
                                         "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914e274421fa76f4778bbfc2b8c86b63f3bb94c3ed7882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                         "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd440100473044022041df58506cef3625db51ac48a643ce2a772f542da3e20c5c899d1aab154693dd02203ec14738877b0e0ec20e69f52addb51118b1f3ee42749ae2b6fe87811ae225ad01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914f2dd17f51b7d7e75f7f0995a71f9d7820f099fe68700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80d7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"}],
                    "commits_active": [{"revoke_secret": "610a345ab8cff0ba6d0a2f86917cee4abaa3f73d93049fa49d22702587ad2cbd",
                                        "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9142ae19b6157f83c02aaba48de7f3afdff861af040882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                        "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100d2ea7f5564e756668b50882ac91deba628b55f31f414f4b1fd8d0b229e062b300220021519c6f53ea0baa8c7f71d77cc575ddf3a473264c75debf294e5fd02aeb66101483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914e0309624fe43ff9ee52681a796a5d8bc2d565fa48700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b8097c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                       {"revoke_secret": "abe1ea84357ca6a057c612d195fcf8de737a201eece50181964341db143e5994",
                                        "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a91461e67c3c0b0d87c3375009cae83d873a3728c904882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                        "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd450100483045022100c653f65210d40817d5bd8f9171a5a5888bedf55eef8799380d636ec4b096f18202207617041e12de5a0d1cb24f8d8479b08ed8237254cb957e4c279548865f7041a401483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91436e1c5ee04d24c9aa779d6e4c48ddd7db38591638700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80a7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                       {"revoke_secret": "9f2462bb5806ec91a0ca1aa4261edc967813eadc72b9c88a5b9b7b4aaf52cd31",
                                        "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a9148f9b683eb32dc86d4f53e3884bfd49d0ec83b979882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                        "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd4401004730440220415c9495ad7e819d7db9e57bc7e1061204991e3ae8daa3a1c22c22c20e74314102201860059a6073988990fe72ee68f079320ddb4671783b07e9cf52f8267ea162dc01483045022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036414002207fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a001514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a91446a05c63dbe03aee0682586fe727e16f3acf22598700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80b7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"},
                                       {"revoke_secret": "ccc5260c92c44e99de3ea98e9b52a66ebc3d0f7229cc53651a0cf4a7f8aff1c5",
                                        "script": "6355b275a914050e1310e92253efc8cfb498d8e3594ec69f18098821028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05bac67a914f7dc060ff00dfed0975bb0b3815c34898203bacb882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac68",
                                        "rawtx": "01000000016486767e1390569993df95e811ea82b400c449386047be2f01764ec0474bc22600000000fd4401004830450221008ba621ecd7e7dfbfffd3fbae144cb9e74e098183eeddd103c0f11a0072d3a3de022047d2faaeeabaae574356b95a4abba9f2766c9cc73d1ab517c5b3389d1c9a20490147304402202973443082817dafcfa074fcb3522cc703d41c6bbe82741826c60721dd8e895f022048b4642766b9880e50df9c6f311347a045d47a1bd436ebf1a703d0c7bf297bbd01514caf63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868ffffffff03463c00000000000017a914fe2f8cd949a3cb4fe7f333e277b0d3c53e9009c48700000000000000001e6a1c88d64576f5cc5d42dd418d03108deb16d4a8717fd22e1c6d8dd2b80c7c5100000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000"}],
                    "payer_wif": None,
                    "spend_secret": "1e23f27be91c610ea4286344f9f19adca1994afa522e15afd8b0cba404e17c7b",
                    "deposit_script_hex": "63522102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb121028666087223829e3932b648e42df2caac57ce677f36ded247dd0cd7c1b229d05b52ae6763a914050e1310e92253efc8cfb498d8e3594ec69f1809882102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6702f003b2752102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ac6868",
                    "payee_wif": "cNXoRUC2eqcBEv1AmvPgM6NgCYV1ReTTHuAmVxaAh6AvVLHroSfU",
                    "deposit_rawtx": "0100000001b9ad1017349853f8dc7a5ba7f94904c8c05e390af301dcfec289932422560398000000006b483045022100ccd8a9f0ed50bc13eefc37410ed09759f953beb879d3a5931d62430c3af209fb02205bef6ad1c5171bcc419fb2a36f3f36cac5031787fdde3749e3e743c20c8b30f8012102224b63a140724dd08fa6818ec1cda07f7e5e746d5ae865dc6e72c0970b0a1bb1ffffffff03d2b400000000000017a91467326f7c84f0e4c846b0b306e7176c9d5fb440768700000000000000001e6a1ced16c8e93108ad3875482af30cbcba626e2242842f44b08b76c636d95e310200000000001976a914512ad68b8e735a67912c10587d83727aa59466f488ac00000000",
                    "change_rawtx": None,
                    "commits_requested": []}


class TestDeposit(unittest.TestCase):

    def setUp(self):
        self.channel = picopayments.channel.Payee(
            ASSET, api_url=API_URL, testnet=TESTNET, dryrun=DRYRUN
        )

    def tearDown(self):
        self.channel.stop()

    def test_can_payout_recover(self):
        self.channel.load(PAYEE_CLOSED_ALPHA)
        self.assertTrue(self.channel.can_payout_recover())


if __name__ == "__main__":
    unittest.main()
